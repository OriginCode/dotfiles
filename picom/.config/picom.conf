backend = "glx";
use-damage = true;
glx-no-stencil = true;
glx-no-rebind-pixmap = true;
xrender-sync-fence = true;

fading = true;
fade-delta = 5;
no-fading-openclose = true;

shadow = true                  # Enabled client-side shadows on windows
shadow-radius = 10;                # The blur radius for shadows (default 12)
shadow-offset-x = -10;               # The left offset for shadows (default -15)
shadow-offset-y = -10;               # The top offset for shadows (default -15)

corner-radius = 10;

blur:
{
    method = "dual_kawase";
#   size = 10;
#   deviation = 10.0;
    strength = 8;
};

blur-background-exclude = [
    "window_type = 'desktop'",
    "window_type = 'popup_menu'",
    "class_g ?= 'i3bar'",
    "class_g ?= 'polybar'",
    "_GTK_FRAME_EXTENTS@:c"
];

shadow-exclude = [
#    "!I3_FLOATING_WINDOW@:c",
    "class_g ?= 'polybar'",
#    "class_g ?= 'rofi'",
]

rounded-corners-exclude = [
    "class_g ?= 'i3bar'",
    "class_g ?= 'rofi'",
    "class_g ?= 'fcitx'",
#    "I3_FLOATING_WINDOW@:c",
    "class_g ?= 'polybar'",
]

opacity-rule = [
    "80:class_g = 'i3bar'",
];

wintypes:
{
    notify = { full-shadow = true };
#    dock = { shadow = false };
    dnd = { shadow = true };
    menu = { shadow = true };
    dropdown_menu = { shadow = false };
    popup_menu = { shadow = false };
    utility = { shadow = false };
};
